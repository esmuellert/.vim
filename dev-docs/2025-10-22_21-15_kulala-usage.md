# Kulala.nvim - HTTP Client Usage Guide

## JSON Response Formatting

Your configuration already includes automatic JSON formatting! When you receive a JSON response:

1. **Automatic formatting**: Responses with `Content-Type: application/json` are automatically formatted using `jq`
2. **Syntax highlighting**: The response body gets JSON syntax highlighting automatically
3. **Requirement**: Make sure you have `jq` installed on your system

### Install jq (if not already installed)

**Windows (using scoop):**
```powershell
scoop install jq
```

**Windows (using chocolatey):**
```powershell
choco install jq
```

## HTTP File Syntax Highlighting

Kulala.nvim provides built-in syntax highlighting for `.http` and `.rest` files.

### File Extensions

Your config now automatically recognizes:
- `.http` files
- `.rest` files

### Syntax Features

HTTP files support:
- Method highlighting (GET, POST, PUT, DELETE, etc.)
- URL highlighting
- Header highlighting
- Body highlighting (with embedded language support for JSON, XML, etc.)
- Variable highlighting
- Comment highlighting

## Example HTTP File

Create a file named `test.http`:

```http
### Simple GET request
GET https://httpbin.org/get

###

### POST with JSON body
POST https://httpbin.org/post
Content-Type: application/json

{
  "name": "John Doe",
  "email": "john@example.com"
}

###

### Using variables
@baseUrl = https://httpbin.org
@token = your-token-here

GET {{baseUrl}}/bearer
Authorization: Bearer {{token}}
```

## Response Formatting

The response will automatically:
1. **Format JSON** - Prettify the JSON with proper indentation using `jq`
2. **Apply syntax highlighting** - Use JSON syntax highlighting from TreeSitter
3. **Toggle views** - Press `<leader>Rt` to toggle between headers and body view

## Keybindings

- `<leader>Rs` - Send the request
- `<leader>Rt` - Toggle headers/body view
- `<leader>Rp` - Jump to previous request
- `<leader>Rn` - Jump to next request
- `<leader>Ri` - Inspect current request
- `<leader>Re` - Set environment
- `<leader>Rc` - Copy as cURL
- `<leader>RC` - Paste from cURL
- `<leader>Rb` - Open scratchpad

## Supported Response Formats

Your configuration supports automatic formatting for:
- **JSON** (`application/json`) - formatted with `jq`
- **XML** (`application/xml`) - formatted with `xmllint`
- **HTML** (`text/html`) - formatted with `xmllint`

Make sure these tools are installed for full formatting support.
